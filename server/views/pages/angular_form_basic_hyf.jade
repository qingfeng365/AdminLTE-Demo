extends ../layout

block content
	div(ng-app="pageapp")
		section.content-header
			h1=title
				small welcome to #{title}
			ol.breadcrumb
				li
					a(href="/")
						i.fa.fa-dashboard
						|首页&nbsp;
				li.active 简单表单
		section.content(ng-controller="pagectrl",
			ng-init="pagedata=#{pagedata};pageoption=#{pageoption};")
			.row
				.col-md-10.col-md-offset-1
					.box.box-primary
						.box-header.with-border
							h3.box-title 表单标题
						form.form-horizontal(name="form",action="/angular/basicformhyf",method="post",autocomplete="off")
							.box-body
								.form-group.has-feedback(ng-class="{'has-success':form['input[name]'].$valid && form['input[name]'].$dirty,'has-error':form['input[name]'].$invalid && form['input[name]'].$dirty}")
									label.col-md-3.control-label 
										strong.text-danger *
										| 文本字段标题
									.col-md-5
										input.form-control(type="text",name="input[name]",ng-model="input.name",required,ng-minlength="2",
										ng-maxlength="10",
										ng-pattern="patternNum")
										span.glyphicon.glyphicon-ok.form-control-feedback(ng-show="form['input[name]'].$valid && form['input[name]'].$dirty")
										span.glyphicon.glyphicon-exclamation-sign.form-control-feedback(ng-show="form['input[name]'].$invalid && form['input[name]'].$dirty")
										div(ng-messages="form['input[name]'].$error",ng-show="form['input[name]'].$dirty")										
											label.label(ng-message="required") 请输入名称
											label.label(ng-message="minlength,maxlength") 请输入长度在2-10之间的数字
											label.label(ng-message="pattern") 只允许输入0-9的数字
									.col-md-4
										p.help-block 说明说明说明.......
								.form-group(ng-class="{'has-success':form['input[date]'].$valid && form['input[date]'].$dirty,'has-error':form['input[date]'].$invalid && form['input[date]'].$dirty}")
									label.col-md-3.control-label
										strong.text-danger *
										| 登记日期
									.col-md-5
										.input-group
											input.form-control(type="text",name="input[date]",
											uib-datepicker-popup="yyyy-MM-dd",ng-Model="input.date",
											is-open="pagestatus.dateopen",
											current-text="今天",
											clear-text="清除",
											close-text="关闭",
											placeholder="yyyy-MM-dd",
											required)
											span.input-group-btn
												button.btn.btn-info(type="button",ng-click="pagestatus.dateopen=true")
													i.glyphicon.glyphicon-calendar
										div(ng-messages="form['input[date]'].$error")										
											label.label(ng-message="required") 请输入单据日期
											label.label(ng-message="pattern,date") 请按yyyy-MM-dd格式输入有效的日期
									.col-md-4
										p.help-block
								.form-group
									label.col-md-3.control-label 客户
									.col-md-5
										ui-select(ng-model="input.person",theme="bootstrap",
										required,name="selectperson")
											ui-select-match(placeholder="请选择客户",allow-clear="true") {{$select.selected.name}} : {{$select.selected.email}}
											ui-select-choices(repeat="item in pagedata.people")
												div(ng-bind-html="item.name | highlight: $select.search")
										input(type="type",name="input[person][name]",ng-Model="input.person.name",ng-show="false")			
									.col-md-4
										p.help-block			
							.box-footer
								input.btn(type="submit",value="提交",ng-disabled="!form.$valid",
								ng-class="{'btn-primary':form.$valid}")
			.row
				.col-md-12
					.box.box-success
						ul.nav.nav-stacked
							li
								p input
								pre {{input|json}}
							li
								p formcontroller
								pre {{form|json}}
block pagesrc
	script(src="/js/angular_form_basichyf.js")